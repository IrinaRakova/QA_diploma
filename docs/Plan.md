# План автоматизации тестирования комплексного сервиса, взаимодействующего с СУБД и API Банка

## 1.	Перечень автоматизируемых сценариев 

**Позитивные сценарии**

•	***Покупка тура по «одобренной» карте с номером 4444 4444 4444 4441***
1) Перейти на [сайт](http://localhost:8080/)
2) Кликнуть кнопку `Купить`
3) В поле `Номер карты` ввести значение номера "одобренной" карты `4444 4444 4444 4441`
4) В поле `Месяц` ввести валидное значение месяца от 1 до 12 двузначным числом, в формате `08` 
5) В поле `Год` ввести валидное значение последних 2 цифр года, не превышающего текущий больше чем на 5 лет
6) В поле `Владелец` ввести валидное значение имени и фамилии латиницей
7) В поле `CVC/CVV` ввести трехзначное число
8) Кликнуть кнопку `Продолжить`

*Ожидаемый результат:* Появляется сообщение "Успешно Операция одобрена банком". В БД в таблице "payment_entity" появляется запись.


•	***Покупка тура в кредит по «одобренной» карте с номером 4444 4444 4444 4441***
1) Перейти на [сайт](http://localhost:8080/)
2) Кликнуть кнопку `Купить в кредит`
3) В поле `Номер карты` ввести значение номера "одобренной" карты `4444 4444 4444 4441`
4) В поле `Месяц` ввести валидное значение месяца от 1 до 12 двузначным числом, в формате `08` 
5) В поле `Год` ввести валидное значение последних 2 цифр года, не превышающего текущий больше чем на 5 лет
6) В поле `Владелец` ввести валидное значение имени и фамилии латиницей
7) В поле `CVC/CVV` ввести трехзначное число
8) Кликнуть кнопку `Продолжить`

*Ожидаемый результат:* Появляется сообщение "Успешно Операция одобрена банком". В БД в таблице "credit_request_entity" появляется запись.


•	***Отсутствие возможности покупки тура по «отклоненной» карте 4444 4444 4444 4442*** 
1) Перейти на [сайт](http://localhost:8080/)
2) Кликнуть кнопку `Купить`
3) В поле `Номер карты` ввести значение номера "отклоненной" карты `4444 4444 4444 4442`
4) В поле `Месяц` ввести валидное значение месяца от 1 до 12 двузначным числом, в формате `08` 
5) В поле `Год` ввести валидное значение последних 2 цифр года, не превышающего текущий больше чем на 5 лет
6) В поле `Владелец` ввести валидное значение имени и фамилии латиницей
7) В поле `CVC/CVV` ввести трехзначное число
8) Кликнуть кнопку `Продолжить`

*Ожидаемый результат:* Появляется сообщение "Ошибка! Банк отказал в проведении операции.".

•	***Отсутствие возможности покупки тура в кредит по «отклоненной» карте 4444 4444 4444 4442***
1) Перейти на [сайт](http://localhost:8080/)
2) Кликнуть кнопку `Купить в кредит`
3) В поле `Номер карты` ввести значение номера "отклоненной" карты `4444 4444 4444 4442`
4) В поле `Месяц` ввести валидное значение месяца от 1 до 12 двузначным числом, в формате `08` 
5) В поле `Год` ввести валидное значение последних 2 цифр года, не превышающего текущий больше чем на 5 лет
6) В поле `Владелец` ввести валидное значение имени и фамилии латиницей
7) В поле `CVC/CVV` ввести трехзначное число
8) Кликнуть кнопку `Продолжить`

*Ожидаемый результат:* Появляется сообщение "Ошибка! Банк отказал в проведении операции.".


**Негативные сценарии**

•	***Отсутствие возможности покупки тура по карте с невалидными значениями в поле `Номер карты`***

*Невалидным значениями для поля `Номер карты` считаются:*
* буквы 
* спецсимволы
* более 16 цифр в строке
* менее 16 цифр в строке
* пустой ввод
  
1) Перейти на [сайт](http://localhost:8080/)
2) Кликнуть кнопку `Купить`
3) В поле `Номер карты` ввести значение невалидные значения номера карты 
4) В поле `Месяц` ввести валидное значение месяца от 1 до 12 двузначным числом, в формате `08` 
5) В поле `Год` ввести валидное значение последних 2 цифр года, не превышающего текущий больше чем на 5 лет
6) В поле `Владелец` ввести валидное значение имени и фамилии латиницей
7) В поле `CVC/CVV` ввести трехзначное число
8) Кликнуть кнопку `Продолжить`

*Ожидаемый результат:* Отсутсвует возможность ввести невалидные данные в проле `Номер карты`. Само поле подсвечивается красным. Появляется сообщение "Неверный формат".

•	***Отсутствие возможности покупки тура по карте с невалидными значениями в поле `Месяц`***

*Невалидным значениями для поля `Месяц` считаются:*
* буквы 
* спецсимволы
* числа, состоящие из одной цифры, в том числе 0
* числа, большие 12
* пустой ввод
  
1) Перейти на [сайт](http://localhost:8080/)
2) Кликнуть кнопку `Купить`
3) В поле `Номер карты` ввести значение валидные значения номера карты 
4) В поле `Месяц` ввести невалидное значение месяца 
5) В поле `Год` ввести валидное значение последних 2 цифр года, не превышающего текущий больше чем на 5 лет
6) В поле `Владелец` ввести валидное значение имени и фамилии латиницей
7) В поле `CVC/CVV` ввести трехзначное число
8) Кликнуть кнопку `Продолжить`

*Ожидаемый результат:* Отсутсвует возможность ввести невалидные данные в проле `Месяц`. Само поле подсвечивается красным. Появляется сообщение "Неверно указан срок действия карты".

•	***Отсутствие возможности покупки тура по карте с невалидными значениями в поле `Год`***

*Невалидным значениями для поля `Год` считаются:*
* буквы 
* спецсимволы
* последние 2 цифры года, превышающего текущий больше чем на 5 лет
* последние 2 цифры года, меньшего, чем текущий
* 1 цифра
* более чем 2 цифры
* пустой ввод
  
1) Перейти на [сайт](http://localhost:8080/)
2) Кликнуть кнопку `Купить`
3) В поле `Номер карты` ввести валидное значения номера карты 
4) В поле `Месяц` ввести валидное значение месяца от 1 до 12 двузначным числом, в формате `08` 
5) В поле `Год` ввести невалидное значение года
6) В поле `Владелец` ввести валидное значение имени и фамилии латиницей
7) В поле `CVC/CVV` ввести трехзначное число
8) Кликнуть кнопку `Продолжить`

*Ожидаемый результат:* Отсутсвует возможность ввести невалидные данные в проле `Год`. Само поле подсвечивается красным. Появляется сообщение "Неверно указан срок действия карты".

•	***Отсутствие возможности покупки тура по карте с невалидными значениями в поле `Владелец`***

*Невалидным значениями для поля `Владелец` считаются:*
* цифры
* спецсимволы
* буквы не латинского алфавита
* более 50 символов в строке
* пустой ввод
  
1) Перейти на [сайт](http://localhost:8080/)
2) Кликнуть кнопку `Купить`
3) В поле `Номер карты` ввести значение валидные значения номера карты 
4) В поле `Месяц` ввести валидное значение месяца от 1 до 12 двузначным числом, в формате `08` 
5) В поле `Год` ввести валидное значение последних 2 цифр года, не превышающего текущий больше чем на 5 лет
6) В поле `Владелец` ввести невалидное значение имени и фамилии латиницей
7) В поле `CVC/CVV` ввести трехзначное число
8) Кликнуть кнопку `Продолжить`

*Ожидаемый результат:* Отсутсвует возможность ввести невалидные данные в проле `Владелец`. Само поле подсвечивается красным. Появляется сообщение "Неверный формат".

•	***Отсутствие возможности покупки тура по карте с невалидными значениями в поле `CVC/CVV`***

*Невалидным значениями для поля `CVC/CVV` считаются:*
* буквы 
* спецсимволы
* количество цифр, меньшее чем 3
* количество цифр, большее чем 3
* пустой ввод
  
1) Перейти на [сайт](http://localhost:8080/)
2) Кликнуть кнопку `Купить`
3) В поле `Номер карты` ввести валидное значения номера карты 
4) В поле `Месяц` ввести валидное значение месяца от 1 до 12 двузначным числом, в формате `08` 
5) В поле `Год` ввести валидное значение последних 2 цифр года, не превышающего текущий больше чем на 5 лет
6) В поле `Владелец` ввести валидное значение имени и фамилии латиницей
7) В поле `CVC/CVV` ввести невалидное значение
8) Кликнуть кнопку `Продолжить`

*Ожидаемый результат:* Отсутсвует возможность ввести невалидные данные в проле `CVC/CVV`. Само поле подсвечивается красным. Появляется сообщение "Неверный формат".


•***Произвести аналогичные негативные проверки при покупке тура в кредит***

## 2.	Перечень используемых инструментов с обоснованием выбора
*Java 11*
Это многоплатформенный, объектно-ориентированный язык программирования, который сам по себе может использоваться как платформа. Версия Java 11 является надежной и безопасной и содержит все необходимые для решения нашей задачи функции. 

*IntelliJ IDEA Community Edition 2023.2.3*
Интегрированная среда разработки программного обеспечения для многих языков программирования, в частности Java. Среда помогает быстрее писать качественный код в умном редакторе, который находит и исправляет ошибки по мере ввода кода, а также знакомит с новыми возможностями языка и лучшими практиками программирования.

*Gradle*
Система для автоматизации сборки приложений и сбора статистики об использовании программных библиотек. 

*JUnit5*
Фреймворк для модульного тестирования программного обеспечения на языке Java.

*Lombok*
Это основанная на аннотациях библиотека Java, позволяющая сократить шаблонный код. Она позволяет избавиться от лишнего кода, такого как геттеры, сеттеры, конструкторы и прочие, автоматически генерируя его на основе аннотаций.

*Faker*
Это библиотека, которая позволяет генерировать случайные тестовые данные.

*Selenide*
Это автоматизированная система тестирования программного обеспечения, используемая для написания программных кодов. Также она помогает обнаружить необходимые веб-объекты, проверяет выполнение событий и фокусируется на работе с пользовательским интерфейсом (UI).

*Postman*
Это сервис для создания, тестирования, документирования, публикации и обслуживания API. Он позволяет создавать коллекции запросов к любому API, применять к ним разные окружения, анализировать и визуализировать результаты запросов.

*Docker Desktop* 
Это платформа для разработки, доставки и запуска контейнерных приложений. Docker позволяет создавать контейнеры, автоматизировать их запуск и развертывание, управляет жизненным циклом. Он позволяет запускать множество контейнеров на одной хост-машине.

*MySQL*
Свободная реляционная система управления базами данных (СУБД).

*PostgreSQL*
Cвободная объектно-реляционная система управления базами данных (СУБД).

*DBeaver*
Это бесплатная система управления базами данных, позволяющая создавать новые базы, модифицировать данные в существующих, выполнять SQL-запросы. Данный инструмент совместим со многими известными СУБД, в том числе с MySQL и PostgreSQL.

*GitHub* 
Веб-сервис для хостинга IT-проектов и их совместной разработки.

*Allure*
Популярный инструмент построения отчётов автотестов, упрощающий их анализ. Это гибкий и легкий инструмент, который позволяет получить не только краткую информацию о ходе выполнения тестов, но и предоставляет всем участникам производственного процесса максимум полезной информации из повседневного выполнения автоматизированных тестов.

## 3.	Перечень и описание возможных рисков при автоматизации
•	Неверная трактовка работы функционала из-за отсутствия исходной документации и четких требований к работе веб-сервиса, что может привести к необходимости актуализировать автотесты.

•	Проблемы с запуском и настройкой приложения и необходимых СУБД 

•	Сложность обнаружения и привязки к необходимым селекторам

•	Возможность изменения структуры сайта, его графической части, что может привести к необходимости актуализировать автотесты.

## 4.	Интервальная оценка с учётом рисков в часах
•	Планирование тестирования – 8 часов

•	Подготовка тестовой среды – 5 часов

•	Написание автотестов - 20 часов

•	Выявление и фиксирование найденных багов – 10 часов

•	Составление отчетов по итогам тестирования – 5 часов
## 5.	План сдачи работ
1.	Планирование автоматизации тестирования – 26.02.2024
2.	Непосредственно сама автоматизация – 13.03.2024
3.	Подготовка отчётных документов по итогам автоматизированного тестирования – 17.03.2024
4.	Подготовка отчётных документов по итогам автоматизации – 18.03.2024


